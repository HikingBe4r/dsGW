<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.groupware.persistent.mapper.DocumentMapper">

	<insert id="insertDocument" parameterType="documentVO" statementType="PREPARED">
		<selectKey keyProperty="status_id" statementType="PREPARED" order="BEFORE" resultType="int">
			SELECT id 
			FROM DOCUMENT_STATUS
			WHERE status = #{status}	
		</selectKey>
		INSERT INTO DOCUMENT ( form_id, subject, content, writeday, enddate, document_status_id )
		VALUES ( #{formVO.id}, #{subject}, #{content}, sysdate, to_date(#{endDate}, 'YYYY/MM/DD'), #{status_id} )
		<!-- formVO.id가 먹힐것인가 -->
		
	</insert>

	
</mapper>